{% extends "base.html" %}

{% block content %}
<style>
.checkout{
  background-color:none;
  color: white;
}
.checkout:hover{

  text-decoration: none;
}
</style>
<h1>Cart</h1>
{% if cart.products.exists %}
<table class="table">
    <thead>
      <tr>
        <th>#</th>
        <th>Product Name</th>
        <th>Price</th>
        <th>Remove</th>
      </tr>
    </thead>
    <tbody>
        {% for product in cart.products.all %}
      <tr>
        <th scope="row">{{ forloop.counter }}</th>
        <td><a href='{{ product.get_absolute_url }}'> {{ product.title }}</a></td>
        <td>{{ product.price }}</td>
        <td>
                {% include 'products/snippets/update-cart.html' with product=product cart=cart %}
        </td>
      </tr>
        {% endfor %}
      <tr>
        <td colspan="2"></td>
        <td><b>Subtotal</b> {{ cart.subtotal }}</td>
      </tr>
      <tr>
        <td colspan="2"></td>
        <td><b>Total</b> {{ cart.total }}</td>
      </tr>
    </tbody>
  </table>

  <button style="margin-left:75%;" type="button" class="btn btn-success btn-lg">
    <a style="text-decoration:none" href ="{% url 'payment:process' %}"><div class ="checkout">Checkout</div></a></button>



{% else %}
<p class ='lead'>Cart is empty</p>
{% endif %}


{% endblock %}